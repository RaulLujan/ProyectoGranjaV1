sourceSets.main.java.srcDirs = [ "src/" ]

sourceCompatibility = '1.7'
[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

ext {
	mainClassName = "com.mygdx.game.IOSLauncher"
}

launchIPhoneSimulator.dependsOn build
launchIPadSimulator.dependsOn build
launchIOSDevice.dependsOn build
createIPA.dependsOn build

robovm {
	archs = "thumbv7:arm64"
}

eclipse.project.name = appName + "-ios"

task fixIML {
	def imlFile = file('ios.iml')
	def iml = new XmlParser().parse(imlFile)
	iml.component.facet.each { facet ->
		def type = facet.@type
		if (type == 'android-gradle' || type == 'java-gradle')
			facet.parent().remove(facet)
	}
	new XmlNodePrinter(new PrintWriter(new FileWriter(imlFile))).print(iml)
}